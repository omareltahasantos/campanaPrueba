(self.webpackChunk=self.webpackChunk||[]).push([[143],{5579:(e,t,a)=>{var n={"./hello_controller.js":44695};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=5579},38205:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={}},44695:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});a(68304),a(30489),a(41539),a(12419),a(78011),a(69070),a(82526),a(41817),a(32165),a(66992),a(78783),a(33948);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=c(e);if(t){var r=c(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u(this,a)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,a,n,u=i(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(a=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&l(t.prototype,a),n&&l(t,n),c}(a(67931).Controller)},41173:(e,t,a)=>{"use strict";(0,a(42192).x)(a(5579));var n=a(67294),r=a(73935),l=a(73727),o=a(5977),i=(a(79753),a(82526),a(41817),a(41539),a(32165),a(66992),a(78783),a(33948),a(47042),a(68309),a(91038),a(74916),a(67109)),u=a(72642),c=a(66720),s=a(79542),m=a(50542),f=a(22887),p=a(71508),d=a(27412),g=a(2658),b=a(54065),v=a(24345),y=a(61807),E=a(9669),h=a.n(E),Z=a(45737);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var w=(0,v.Z)({palette:{brown:{main:"#522F10",contrastText:"#fff"}}});a(21249);a(69070);var O=a(29602),x=a(41796),P=a(33720),N=a(54386),A=a(6867),_=a(38183),z=a(32583),F=a(33797),j=a(21081),J=a(28201),q=a(26448),I=a(65817),k=a(57976),T=a(94235);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}(0,O.ZP)("div")((function(e){var t=e.theme;return L({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:(0,x.Fq)(t.palette.common.white,.15),"&:hover":{backgroundColor:(0,x.Fq)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),(0,O.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),(0,O.ZP)(_.ZP)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":L({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}}));var B=(0,T.Z)({navbarColor:{background:"#522F10"},searchCustom:{color:"white"}});function W(){var e=B(),t=R(n.useState(null),2),a=t[0],r=t[1],l=R(n.useState(null),2),o=l[0],i=l[1],u=Boolean(a),c=Boolean(o),s=function(){i(null)},m=function(){r(null),s()},f=n.createElement(j.Z,{style:{background:"#2E3B55"},anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:m},n.createElement(F.Z,{onClick:m},"Profile"),n.createElement(F.Z,{onClick:m},"My account")),d="primary-search-account-menu-mobile",b=n.createElement(j.Z,{style:{background:"#2E3B55"},anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:d,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:s},n.createElement(F.Z,null,n.createElement(A.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit"},n.createElement(z.Z,{badgeContent:4,color:"error"},n.createElement(q.Z,null))),n.createElement("p",null,"Messages")),n.createElement(F.Z,null,n.createElement(A.Z,{size:"large","aria-label":"show 17 new notifications",color:"inherit"},n.createElement(z.Z,{badgeContent:17,color:"error"},n.createElement(I.Z,null))),n.createElement("p",null,"Notifications")),n.createElement(F.Z,{onClick:function(e){r(e.currentTarget)}},n.createElement(A.Z,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},n.createElement(J.Z,null)),n.createElement("p",null,"Profile")));return n.createElement(p.Z,{sx:{flexGrow:1}},n.createElement(P.Z,{position:"static"},n.createElement(N.Z,{sx:{p:0},className:e.navbarColor,style:{padding:"0px"}},n.createElement(g.Z,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}}}),n.createElement("div",null,"Bienvenido al panel de administración"),n.createElement(p.Z,{sx:{flexGrow:1}}),n.createElement(p.Z,{sx:{display:{xs:"flex",md:"none"}}},n.createElement(A.Z,{size:"large","aria-label":"show more","aria-controls":d,"aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},n.createElement(k.Z,null))))),b,f)}a(92222),a(47941),a(57327),a(38880),a(89554),a(54747),a(49337),a(33321);var V=a(62318),D=a(42440),U=a(67720),G=a(30799),H=a(48885),$=a(59334),Y=a(13540),K=a(83354);a(81486);function Q(e,t,a){return{email:e,identificador:t,password:a}}Q("omar@gmail.com",1,"APTItude01"),Q("paula@gmail.com",2,"APTItude01"),Q("nelson@gmail.com",3,"APTItude01"),Q("sulaiman@gmail.com",4,"APTItude01"),Q("nur@gmail.com",5,"APTItude01");var X=a(94333),ee=a(15725);a(83710);var te=a(9573),ae=a(38732),ne=a(46926),re=a(97896),le=a(56011),oe=a(3694),ie=a(36501);const ue=JSON.parse('[{"value":"Av.","label":"Av."},{"value":"Barrio","label":"Barrio"},{"value":"Belena","label":"Belena"},{"value":"C./","label":"C./"},{"value":"Calleja","label":"Calleja"},{"value":"Callejón","label":"Callejón"},{"value":"Cmno.","label":"Cmno."},{"value":"Cetra.","label":"Cetra."},{"value":"Ds.","label":"Ds."},{"value":"Gpo.","label":"Gpo."},{"value":"Lugar","label":"Lugar"},{"value":"Paraje","label":"Paraje"},{"value":"Pgno.","label":"Pgno."},{"value":"Plazuela","label":"Plazuela"},{"value":"Prolong.","label":"Prolong"},{"value":"Pso.","label":"Pso."},{"value":"Pza.","label":"Pza."},{"value":"Rda.","label":"Rda."},{"value":"Rincón","label":"Rincón"},{"value":"Rua","label":"Rua"},{"value":"Tr.","label":"Tr."}]'),ce=JSON.parse('[{"value":"Bares, Cines y Taller < 7 ","label":"Bares, Cines y Taller < 7 "},{"value":"Camping y Residencias < 100","label":"Camping y residencias < 100"},{"value":"Comercio/Oficinas <= 6tra.","label":"Comercio/Oficinas <= 6tra."},{"value":"Comercio Alimentación  <= 3","label":"Comercio Alimentación  <= 3"},{"value":"Comercio Alimentación > 3","label":"Comercio Alimentación > 3"},{"value":"Industria y Restaurante ","label":"Industria y Restaurante "},{"value":"Local Com. Excepto Alimentac.","label":"Local Com. Excepto Alimentac."},{"value":"Pequeñas industrias","label":"Pequeñas industrias"},{"value":"Residencias y Asilos","label":"Residencias y Asilos"},{"value":"Soc.Gast., Talleres y Of. ","label":"Soc.Gast., Talleres y Of. "},{"value":"Vivienda","label":"Vivienda"},{"value":"Vacías","label":"Vacías"}]'),se=JSON.parse('[{"value":"Inscrito 5º contenedor","label":"Inscrito 5º contenedor"},{"value":"Inscrito compostaje","label":"Inscrito compostaje"},{"value":"Inscrito compostaje y Inscrito 5º contenedor ","label":"Inscrito compostaje y Inscrito 5º contenedor"},{"value":"No inscrito","label":"No inscrito"}]');(0,v.Z)({palette:{brown:{main:"#522F10",contrastText:"#fff"}}});function me(e){var t=e.viviendas,a=(e.changeArrayEditar,(0,T.Z)((function(e){return{hover:{"&:hover":{backgroundColor:"#f5f5f5 !important"}}}}))());return n.createElement(re.Z,{component:ie.Z},n.createElement(te.Z,{sx:{minWidth:650},"aria-label":"simple table"},n.createElement(le.Z,null,n.createElement(oe.Z,null,n.createElement(ne.Z,{align:"left"},"Titular"),n.createElement(ne.Z,{align:"left"},"Contrato"),n.createElement(ne.Z,{align:"left"},"Código postal"),n.createElement(ne.Z,{align:"left"},"Municipio"),n.createElement(ne.Z,{align:"left"},"Localidad"),n.createElement(ne.Z,{align:"left"},"Tipo de vía"),n.createElement(ne.Z,{align:"left"},"Nombre de vía"),n.createElement(ne.Z,{align:"left"},"Nº portal"),n.createElement(ne.Z,{align:"left"},"Bloque"),n.createElement(ne.Z,{align:"left"},"Escalera"),n.createElement(ne.Z,{align:"left"},"Piso"),n.createElement(ne.Z,{align:"left"},"Puerta"),n.createElement(ne.Z,{align:"left"},"Observaciones dirección"),n.createElement(ne.Z,{align:"left"},"Telefono1"),n.createElement(ne.Z,{align:"left"},"Telefono2"),n.createElement(ne.Z,{align:"left"},"Telefono3"),n.createElement(ne.Z,{align:"left"},"Telefono4"),n.createElement(ne.Z,{align:"left"},"Complemento 1"),n.createElement(ne.Z,{align:"left"},"Complemento 2"),n.createElement(ne.Z,{align:"left"},"Uso de resíduos"),n.createElement(ne.Z,{align:"left"},"Campaña_anterior"),n.createElement(ne.Z,{align:"left"},"Campaña_actual"),n.createElement(ne.Z,{align:"left"},"Primera visita"),n.createElement(ne.Z,{align:"left"},"Segunda visita"),n.createElement(ne.Z,{align:"left"},"Fecha visita"),n.createElement(ne.Z,{align:"left"},"Observaciones"))),n.createElement(ae.Z,null,t.map((function(e){return n.createElement(oe.Z,{key:e.id,sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,classes:{hover:a.hover}},n.createElement(ne.Z,{align:"left"},e.titular),n.createElement(ne.Z,{align:"left"},e.contrato),n.createElement(ne.Z,{align:"left"},e.cp),n.createElement(ne.Z,{align:"left"},e.municipio),n.createElement(ne.Z,{align:"left"},e.localidad),n.createElement(ne.Z,{align:"left"},e.tipo_via),n.createElement(ne.Z,{align:"left"},e.nombre_via),n.createElement(ne.Z,{align:"left"},e.num_portal),n.createElement(ne.Z,{align:"left"},e.bloque),n.createElement(ne.Z,{align:"left"},e.escalera),n.createElement(ne.Z,{align:"left"},e.piso),n.createElement(ne.Z,{align:"left"},e.puerta),n.createElement(ne.Z,{align:"left"},e.observaciones_direccion),n.createElement(ne.Z,{align:"left"},e.telefono1),n.createElement(ne.Z,{align:"left"},e.telefono2),n.createElement(ne.Z,{align:"left"},e.telefono3),n.createElement(ne.Z,{align:"left"},e.telefono4),n.createElement(ne.Z,{align:"left"},e.complemento1),n.createElement(ne.Z,{align:"left"},e.complemento2),n.createElement(ne.Z,{align:"left"},e.uso_residuos),n.createElement(ne.Z,{align:"left"},e.campaña_anterior),n.createElement(ne.Z,{align:"left"},e.campaña_actual),n.createElement(ne.Z,{align:"left"},e.primera_visita),n.createElement(ne.Z,{align:"left"},e.segunda_visita),n.createElement(ne.Z,{align:"left"},e.fecha_visita),n.createElement(ne.Z,{align:"left"},e.observaciones))})))))}var fe=a(16284);const pe=JSON.parse('[{"value":"abre puerta","label":"abre puerta"},{"value":"ilocalizable","label":"ilocalizable"},{"value":"no visitado","label":"no visitado"}]'),de=JSON.parse('[{"value":"abre puerta","label":"abre puerta"},{"value":"ilocalizable","label":"ilocalizable"},{"value":"no visitado","label":"no visitado"}]'),ge=JSON.parse('[{"value":"autogestión","label":"autogestión"},{"value":"Inscrito 5º contenedor","label":"Inscrito 5º contenedor"},{"value":"Inscrito compostaje","label":"Inscrito compostaje"},{"value":"Inscrito compostaje y Inscrito 5º contenedor ","label":"Inscrito compostaje y Inscrito 5º contenedor"},{"value":"No inscrito","label":"No inscrito"}]');function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ye=(0,v.Z)({palette:{brown:{main:"#522F10",contrastText:"#fff"}}});function Ee(e){var t=e.handleClose,a=e.getNewHousing,r=be((0,n.useState)(),2),l=r[0],o=r[1],i=be((0,n.useState)(),2),c=i[0],m=i[1],f=be((0,n.useState)(),2),d=f[0],g=f[1],b=be((0,n.useState)(),2),v=b[0],E=b[1],Z=be((0,n.useState)(),2),S=Z[0],C=Z[1],w=be((0,n.useState)(""),2),O=w[0],x=w[1],P=be((0,n.useState)(),2),N=P[0],A=P[1],_=be((0,n.useState)(),2),z=_[0],j=_[1],J=be((0,n.useState)(),2),q=J[0],I=J[1],k=be((0,n.useState)(),2),T=k[0],R=k[1],M=be((0,n.useState)(),2),L=M[0],B=M[1],W=be((0,n.useState)(),2),V=W[0],D=W[1],U=be((0,n.useState)(),2),G=U[0],H=U[1],$=be((0,n.useState)(),2),Y=$[0],K=$[1],Q=be((0,n.useState)(),2),X=Q[0],te=Q[1],ae=be((0,n.useState)(),2),ne=ae[0],re=ae[1],le=be((0,n.useState)(),2),oe=le[0],ie=le[1],me=be((0,n.useState)(),2),fe=me[0],ve=me[1],Ee=be((0,n.useState)(),2),he=Ee[0],Ze=Ee[1],Se=be((0,n.useState)(),2),Ce=Se[0],we=Se[1],Oe=be((0,n.useState)(),2),xe=Oe[0],Pe=Oe[1],Ne=be((0,n.useState)(),2),Ae=Ne[0],_e=Ne[1],ze=be((0,n.useState)(),2),Fe=ze[0],je=ze[1],Je=be((0,n.useState)(),2),qe=Je[0],Ie=Je[1],ke=be((0,n.useState)(),2),Te=ke[0],Re=ke[1],Me={titular:JSON.stringify(l),contrato:c,cp:d,municipio:JSON.stringify(v),localidad:JSON.stringify(S),tipoVia:JSON.stringify(O),nombreVia:JSON.stringify(N),numPortal:JSON.stringify(z),bloque:q,escalera:JSON.stringify(T),piso:JSON.stringify(L),puerta:JSON.stringify(V),observacion_direccion:JSON.stringify(G),tel1:JSON.stringify(Y),tel2:JSON.stringify(X),tel3:JSON.stringify(ne),tel4:JSON.stringify(oe),complemento1:JSON.stringify(fe),complemento2:JSON.stringify(he),usoResiduos:JSON.stringify(Ce),campañaAnterior:JSON.stringify(xe),campañaActual:JSON.stringify(Ae),primeraVisita:JSON.stringify(Fe),segundaVisita:JSON.stringify(qe),observaciones:JSON.stringify(Te)};return n.createElement(n.Fragment,null,n.createElement(y.Z,{theme:ye},n.createElement("div",{className:"container text-center"},n.createElement(p.Z,{component:"form",onSubmit:function(e){e.preventDefault(),h().get("http://localhost:8000/api/newHousing",{params:Me}).then((function(e){if("null"===e.data.error)a(e.data),t();else{e.data.error;t()}})).catch((function(e){console.log(e)}))},noValidate:!0,sx:{mt:1}},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"titular",label:"Titular",name:"titular",type:"text",autoComplete:"titular",autoFocus:!0,onChange:function(e){return o(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"contrato",label:"Contrato",name:"contrato",type:"number",autoComplete:"contrato",autoFocus:!0,onChange:function(e){return m(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"cp",label:"Código postal",name:"cp",type:"number",autoComplete:"cp",autoFocus:!0,onChange:function(e){return g(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"municipio",label:"Municipio",name:"municipio",type:"text",autoComplete:"municipio",autoFocus:!0,onChange:function(e){return E(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"localidad",label:"Localidad",name:"localidad",type:"text",autoComplete:"localidad",autoFocus:!0,onChange:function(e){return C(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Tipo de Vía",value:O,onChange:function(e){return x(e.target.value)}},ue.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)})))),n.createElement(ee.ZP,{item:!0,md:3,className:""},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,name:"nombreVia",label:"Nombre de vía",type:"text",id:"nombreVia",autoComplete:"nombreVia",onChange:function(e){return A(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"numPortal",label:"Portal",name:"numPortal",type:"text",autoComplete:"numPortal",autoFocus:!0,onChange:function(e){return j(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"bloque",label:"Bloque",name:"bloque",type:"number",autoComplete:"bloque",autoFocus:!0,onChange:function(e){return I(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"escalera",label:"Escalera",name:"escalera",type:"text",autoComplete:"escalera",autoFocus:!0,onChange:function(e){return R(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"piso",label:"Piso",name:"piso",type:"text",autoComplete:"piso",autoFocus:!0,onChange:function(e){return B(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"puerta",label:"Puerta",name:"puerta",type:"text",autoComplete:"puerta",autoFocus:!0,onChange:function(e){return D(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"obsDireccion",label:"Observ.dirección",name:"obsDireccion",type:"text",autoComplete:"obsdireccion",autoFocus:!0,onChange:function(e){return H(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"telefono1",label:"Telefono 1",name:"telefono1",type:"text",autoComplete:"telefono1",autoFocus:!0,onChange:function(e){return K(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"tel2",label:"Telefono 2",name:"tel2",type:"text",autoComplete:"tel2",autoFocus:!0,onChange:function(e){return te(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"tel3",label:"Telefono 3",name:"tel3",type:"text",autoComplete:"tel3",autoFocus:!0,onChange:function(e){return re(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"tel4",label:"Telefono 4",name:"tel4",type:"text",autoComplete:"tel4",autoFocus:!0,onChange:function(e){return ie(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"complemento1",label:"Complemento 1",name:"complemento1",type:"text",autoComplete:"complemento1",autoFocus:!0,onChange:function(e){return ve(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"complemento2",label:"Complemento 2",name:"complemento2",type:"text",autoComplete:"complemento2",autoFocus:!0,onChange:function(e){return Ze(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Campaña anterior",value:xe,onChange:function(e){return Pe(e.target.value)}},se.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Campaña actual",value:Ae,onChange:function(e){return _e(e.target.value)}},ge.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Uso de resíduos",value:Ce,onChange:function(e){return we(e.target.value)}},ce.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Primera visita",value:Fe,onChange:function(e){return je(e.target.value)}},pe.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Segunda visita",value:qe,onChange:function(e){return Ie(e.target.value)}},de.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"observaciones",label:"Observaciones",name:"observaciones",type:"text",autoComplete:"observaciones",autoFocus:!0,onChange:function(e){return Re(e.target.value)}}))),n.createElement(u.Z,{color:"brown",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Añadir vivienda")))))}function he(e){var t=e.show,a=(e.setShow,e.handleClose),r=(e.handleShow,e.getNewHousing);return n.createElement(n.Fragment,null,n.createElement(fe.Z,{show:t,centered:!0,onHide:a,style:{top:"5%",left:"15%"},size:"lg"},n.createElement(fe.Z.Header,null,n.createElement(fe.Z.Title,{className:"mx-auto"},"Añadir vivienda")),n.createElement(fe.Z.Body,null,n.createElement(Ee,{handleClose:a,getNewHousing:r})),n.createElement(fe.Z.Footer,null)))}var Ze=a(83461);function Se(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Oe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){if(e){if("string"==typeof e)return Ne(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ae(e){var t=e.user,a=e.listItemPressed,r=xe((0,n.useState)(!1),2),l=r[0],o=r[1],i=function(){return o(!0)},c=xe((0,n.useState)([]),2),s=c[0],m=c[1],f=xe((0,n.useState)([]),2),d=(f[0],f[1],xe((0,n.useState)(""),2)),g=(d[0],d[1],xe((0,n.useState)(""),2));g[0],g[1];(0,n.useEffect)((function(){b()}),[]);var b=function(){h().get("http://localhost:8000/api/Viviendas",{}).then((function(e){if(e.data){for(var t=e.data,a=0;a<t.length;a++)if(null!==t[a].fecha_visita){var n=new Date(1e3*t[a].fecha_visita),r=n.getFullYear(),l=n.getMonth(),o=n.getDate()+"-"+l+"-"+r+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();t[a].fecha_visita=o}m(t)}})).catch((function(e){console.log(e)}))};return n.createElement(n.Fragment,null,n.createElement(n.Fragment,null,n.createElement(p.Z,{sx:{flexGrow:1},className:"pb-3"},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:3},n.createElement("h4",null,a)),n.createElement(ee.ZP,{item:!0,md:4,justify:""},n.createElement(p.Z,{sx:{display:"flex",justifyContent:"flex-end"}},"ROLE_ADMIN"===t.roles[0]?n.createElement(n.Fragment,null,n.createElement(Ze.CSVLink,{data:s,filename:"Tabla-viviendas.csv"},n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold"},className:""},"exportar")),n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold"},className:"ml-2 mr-5",onClick:i},"Añadir vivienda")):n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold"},className:"ml-5",onClick:i},"Añadir vivienda"))))),n.createElement(me,{viviendas:s,changeArrayEditar:function(e){var t=s.map((function(t){return t.id===e.id?we(we({},t),{},{id:e.id,titular:e.titular,contrato:e.contrato,cp:e.cp,municipio:e.municipio,localidad:e.localidad,tipo_via:e.tipo_via,nombre_via:e.nombre_via,num_portal:e.num_portal,bloque:e.bloque,escalera:e.escalera,piso:e.piso,puerta:e.puerta,observaciones_direccion:e.observaciones_direccion,telefono1:e.telefono1,telefono2:e.telefono2,telefono3:e.telefono3,telefono4:e.telefono4,complemento1:e.complemento1,complemento2:e.complemento2,uso_residuos:e.uso_residuos,campaña_anterior:e.campaña_anterior,campaña_actual:e.campaña_actual,primera_visita:e.primera_visita,segunda_visita:e.segunda_visita,fecha_visita:e.fecha_visita,observaciones:e.observaciones}):t}));m(t)}}),n.createElement(he,{show:l,setShow:o,handleClose:function(){return o(!1)},handleShow:i,getNewHousing:function(e){m([].concat(Se(s),[e])),b()}})))}var _e=a(42701),ze=(a(23123),a(91058),a(3636));const Fe=JSON.parse('[{"value":"Amatriain","label":"Amatriain"},{"value":"Amunarrizqueta","label":"Amunarrizqueta"},{"value":"Artariain","label":"Artariain"},{"value":"Barasoain","label":"Barasoain"},{"value":"Bariain","label":"Bariain"},{"value":"Beire","label":"Beire"},{"value":"Benegorri","label":"Benegorri"},{"value":"Caparroso","label":"Caparroso"},{"value":"Carcastillo","label":"Carcastillo"},{"value":"Carrascal","label":"Carrascal"},{"value":"Echagüe","label":"Echagüe"},{"value":"Figarol","label":"Figarol"},{"value":"Garinoain","label":"Garinoain"},{"value":"Iracheta","label":"Iracheta"},{"value":"Leoz","label":"Leoz"},{"value":"Maquirriain (Leoz)","label":"Maquirriain (Leoz)"},{"value":"Melida","label":"Melida"},{"value":"Mendivil","label":"Mendivil"},{"value":"Murillo El Cuende","label":"Murillo El Cuende"},{"value":"Murillo El Fruto","label":"Murillo El Fruto"},{"value":"Olite","label":"Olite"},{"value":"Olleta","label":"Olleta"},{"value":"Oloriz","label":"Oloriz"},{"value":"Oricin","label":"Oricin"},{"value":"Orisoain","label":"Orisoain"},{"value":"Pitillas","label":"Pitillas"},{"value":"Pueyo","label":"Pueyo"},{"value":"Rada","label":"Rada"},{"value":"San Martin De Unx","label":"San Martin De Unx"},{"value":"Sansoain","label":"Sansoain"},{"value":"Sansomain","label":"Sansomain"},{"value":"Santacara","label":"Santacara"},{"value":"Solchaga","label":"Solchaga"},{"value":"Tafalla","label":"Tafalla"},{"value":"Traibuenas","label":"Traibuenas"},{"value":"Ujue","label":"Ujue"},{"value":"Unzue","label":"Unzue"},{"value":"Uzquita","label":"Uzquita"}]');var je=a(77957);function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ie=(0,v.Z)({palette:{brown:{main:"#522F10",contrastText:"#fff"}}});function ke(e){var t=e.result,a=e.handleClose,r=e.changeArrayEditar,l=Je((0,n.useState)(t.titular),2),o=l[0],i=l[1],c=Je((0,n.useState)(t.contrato),2),m=c[0],f=c[1],d=Je((0,n.useState)(t.cp),2),g=d[0],b=d[1],v=Je((0,n.useState)(t.municipio),2),E=v[0],Z=v[1],S=Je((0,n.useState)(t.localidad),2),C=S[0],w=S[1],O=Je((0,n.useState)(t.tipo_via),2),x=O[0],P=O[1],N=Je((0,n.useState)(t.nombre_via),2),A=N[0],_=N[1],z=Je((0,n.useState)(t.num_portal),2),j=z[0],J=z[1],q=Je((0,n.useState)(t.bloque),2),I=q[0],k=q[1],T=Je((0,n.useState)(t.escalera),2),R=T[0],M=T[1],L=Je((0,n.useState)(t.piso),2),B=L[0],W=L[1],V=Je((0,n.useState)(t.puerta),2),D=V[0],U=V[1],G=Je((0,n.useState)(t.observaciones_direccion),2),H=G[0],$=G[1],Y=Je((0,n.useState)(t.telefono1),2),K=Y[0],Q=Y[1],X=Je((0,n.useState)(t.telefono2),2),te=X[0],ae=X[1],ne=Je((0,n.useState)(t.telefono3),2),re=ne[0],le=ne[1],oe=Je((0,n.useState)(t.telefono4),2),ie=oe[0],me=oe[1],fe=Je((0,n.useState)(t.complemento1),2),be=fe[0],ve=fe[1],ye=Je((0,n.useState)(t.complemento2),2),Ee=ye[0],he=ye[1],Ze=Je((0,n.useState)(t.uso_residuos),2),Se=Ze[0],Ce=Ze[1],we=Je((0,n.useState)(t.campana_anterior),2),Oe=we[0],xe=we[1],Pe=Je((0,n.useState)(t.campana_actual),2),Ne=Pe[0],Ae=Pe[1],_e=Je((0,n.useState)(t.primera_visita),2),ze=_e[0],Fe=_e[1],je=Je((0,n.useState)(t.segunda_visita),2),qe=je[0],ke=je[1],Te=Je((0,n.useState)(t.observaciones),2),Re=Te[0],Me=Te[1],Le=Je((0,n.useState)({id:333,email:"omar@gmail.com",password:"12345",roles:["ROLE_PRUEBA"],token:"1212341526TGWRGF2",isLogged:!1}),2),Be=Le[0],We=Le[1];(0,n.useEffect)((function(){var e=sessionStorage.getItem("user"),t=JSON.parse(e);We(t)}),[]);return n.createElement(n.Fragment,null,n.createElement(y.Z,{theme:Ie},n.createElement("div",{className:"container text-center"},n.createElement(p.Z,{component:"form",onSubmit:function(e){e.preventDefault();for(var n=0;n<Be.roles.length;n++)if("ROLE_ADMIN"===Be.roles[n])var l=Be.roles[n];var i={roleAdmin:JSON.stringify(l),id:t.id,titular:JSON.stringify(o),contrato:m,cp:g,municipio:JSON.stringify(E),localidad:JSON.stringify(C),tipoVia:JSON.stringify(x),nombreVia:JSON.stringify(A),numPortal:JSON.stringify(j),bloque:I,escalera:JSON.stringify(R),piso:JSON.stringify(B),puerta:JSON.stringify(D),observacion_direccion:JSON.stringify(H),tel1:JSON.stringify(K),tel2:JSON.stringify(te),tel3:JSON.stringify(re),tel4:JSON.stringify(ie),complemento1:JSON.stringify(be),complemento2:JSON.stringify(Ee),usoResiduos:JSON.stringify(Se),campañaAnterior:JSON.stringify(Oe),campañaActual:JSON.stringify(Ne),primeraVisita:JSON.stringify(ze),segundaVisita:JSON.stringify(qe),observaciones:JSON.stringify(Re)};h().get("http://localhost:8000/api/updateVivienda",{params:i}).then((function(e){if("null"===e.data.error)r(e.data),a();else{e.data.error;a()}})).catch((function(e){console.log(e)}))},noValidate:!0,sx:{mt:1}},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"titular",label:"Titular",name:"titular",type:"text",autoComplete:"titular",autoFocus:!0,value:o,onChange:function(e){return i(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"contrato",label:"Contrato",name:"contrato",type:"number",autoComplete:"contrato",autoFocus:!0,value:m,onChange:function(e){return f(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"cp",label:"Código postal",name:"cp",type:"number",autoComplete:"cp",autoFocus:!0,value:g,onChange:function(e){return b(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"municipio",label:"Municipio",name:"municipio",type:"text",autoComplete:"municipio",autoFocus:!0,value:E,onChange:function(e){return Z(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"localidad",label:"Localidad",name:"localidad",type:"text",autoComplete:"localidad",autoFocus:!0,value:C,onChange:function(e){return w(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Tipo de Vía",value:x,onChange:function(e){return P(e.target.value)}},ue.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)})))),n.createElement(ee.ZP,{item:!0,md:3,className:""},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,name:"nombreVia",label:"Nombre de vía",type:"text",id:"nombreVia",autoComplete:"nombreVia",value:A,onChange:function(e){return _(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"numPortal",label:"Portal",name:"numPortal",type:"text",autoComplete:"numPortal",autoFocus:!0,value:j,onChange:function(e){return J(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"bloque",label:"Bloque",name:"bloque",type:"number",autoComplete:"bloque",autoFocus:!0,value:I,onChange:function(e){return k(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"escalera",label:"Escalera",name:"escalera",type:"text",autoComplete:"escalera",autoFocus:!0,value:R,onChange:function(e){return M(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"piso",label:"Piso",name:"piso",type:"text",autoComplete:"piso",autoFocus:!0,value:B,onChange:function(e){return W(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"puerta",label:"Puerta",name:"puerta",type:"text",autoComplete:"puerta",autoFocus:!0,value:D,onChange:function(e){return U(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"obsDireccion",label:"Observ.dirección",name:"obsDireccion",type:"text",autoComplete:"obsdireccion",autoFocus:!0,value:H,onChange:function(e){return $(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"telefono1",label:"Telefono 1",name:"telefono1",type:"text",autoComplete:"telefono1",autoFocus:!0,value:K,onChange:function(e){return Q(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"tel2",label:"Telefono 2",name:"tel2",type:"text",autoComplete:"tel2",autoFocus:!0,value:te,onChange:function(e){return ae(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"tel3",label:"Telefono 3",name:"tel3",type:"text",autoComplete:"tel3",autoFocus:!0,value:re,onChange:function(e){return le(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"tel4",label:"Telefono 4",name:"tel4",type:"text",autoComplete:"tel4",autoFocus:!0,value:ie,onChange:function(e){return me(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"complemento1",label:"Complemento 1",name:"complemento1",type:"text",autoComplete:"complemento1",autoFocus:!0,value:be,onChange:function(e){return ve(e.target.value)}}),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"complemento2",label:"Complemento 2",name:"complemento2",type:"text",autoComplete:"complemento2",autoFocus:!0,value:Ee,onChange:function(e){return he(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Campaña anterior",value:Oe,onChange:function(e){return xe(e.target.value)}},se.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Campaña actual",value:Ne,onChange:function(e){return Ae(e.target.value)}},ge.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Uso de resíduos",value:Se,onChange:function(e){return Ce(e.target.value)}},ce.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),"ROLE_ADMIN"===Be.roles[0]?n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Primera visita",value:ze,onChange:function(e){return Fe(e.target.value)}},pe.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))):"",n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Segunda visita",value:qe,onChange:function(e){return ke(e.target.value)}},de.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))),n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,id:"observaciones",label:"Observaciones",name:"observaciones",type:"text",autoComplete:"observaciones",autoFocus:!0,value:Re,onChange:function(e){return Me(e.target.value)}}))),n.createElement(u.Z,{color:"brown",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Editar vivienda")))))}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Me(e){var t=e.result,a=e.changeArrayEditar,r=Te((0,n.useState)(!1),2),l=r[0],o=r[1],i=function(){return o(!1)};return n.createElement(n.Fragment,null,n.createElement(A.Z,{"aria-label":"delete",onClick:function(){return o(!0)},color:"success"},n.createElement(je.Z,null)),n.createElement(fe.Z,{show:l,centered:!0,onHide:i,size:"lg",style:{top:"5%",left:"15%"}},n.createElement(fe.Z.Header,null,n.createElement(fe.Z.Title,{className:"mx-auto"},"Editar vivienda")),n.createElement(fe.Z.Body,null,n.createElement(ke,{result:t,handleClose:i,changeArrayEditar:a})),n.createElement(fe.Z.Footer,null)))}var Le=a(30124);function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ve(e){var t=e.searchResult,a=e.changeArrayEditar,r=e.countResults,l=e.nextResults,o=(e.prevResults,Be(n.useState(0),2)),i=o[0],c=o[1],s=Be(n.useState(10),2),m=s[0],f=s[1],d=Be((0,n.useState)(0),2),g=d[0],b=d[1],v=Be((0,n.useState)({id:333,email:"omar@gmail.com",password:"12345",roles:["ROLE_PRUEBA"],token:"1212341526TGWRGF2",isLogged:!1}),2),y=v[0],E=v[1];(0,n.useEffect)((function(){var e=sessionStorage.getItem("user"),t=JSON.parse(e);E(t)}),[]);var h=Be((0,n.useState)(!1),2),Z=(h[0],h[1],(0,T.Z)((function(e){return{hover:{"&:hover":{backgroundColor:"#f5f5f5 !important"}}}}))()),S={hover:{background:"#cfd8dc"}};return n.createElement(n.Fragment,null,n.createElement(p.Z,{style:{marginLeft:"0px",marginRight:"0px",marginBottom:"3px"},sx:{justifyContent:"center",p:1,m:1,bgcolor:"background.paper"}},n.createElement("h3",{style:{padding:"5px"}},"+",r," resultados encontrados"),"ROLE_ADMIN"===y.roles[0]?n.createElement(n.Fragment,null,n.createElement(Ze.CSVLink,{data:t,filename:"ExportResultsSearch.csv"},n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold"},className:"mb-3"},"exportar"))):"",n.createElement(re.Z,{component:ie.Z},n.createElement(te.Z,{sx:{minWidth:650},"aria-label":"simple table"},n.createElement(le.Z,null,n.createElement(oe.Z,null,n.createElement(ne.Z,{align:"left"},"Titular"),n.createElement(ne.Z,{align:"left"},"Contrato"),n.createElement(ne.Z,{align:"left"},"Código postal"),n.createElement(ne.Z,{align:"left"},"Municipio"),n.createElement(ne.Z,{align:"left"},"Localidad"),n.createElement(ne.Z,{align:"left"},"Tipo de vía"),n.createElement(ne.Z,{align:"left"},"Nombre de vía"),n.createElement(ne.Z,{align:"left"},"Nº portal"),n.createElement(ne.Z,{align:"left"},"Bloque"),n.createElement(ne.Z,{align:"left"},"Escalera"),n.createElement(ne.Z,{align:"left"},"Piso"),n.createElement(ne.Z,{align:"left"},"Puerta"),n.createElement(ne.Z,{align:"left"},"Observaciones dirección"),n.createElement(ne.Z,{align:"left"},"Telefono1"),n.createElement(ne.Z,{align:"left"},"Telefono2"),n.createElement(ne.Z,{align:"left"},"Telefono3"),n.createElement(ne.Z,{align:"left"},"Telefono4"),n.createElement(ne.Z,{align:"left"},"Complemento 1"),n.createElement(ne.Z,{align:"left"},"Complemento 2"),n.createElement(ne.Z,{align:"left"},"Uso de resíduos"),n.createElement(ne.Z,{align:"left"},"Campaña_anterior"),n.createElement(ne.Z,{align:"left"},"Campaña_actual"),n.createElement(ne.Z,{align:"left"},"Primera visita"),n.createElement(ne.Z,{align:"left"},"Segunda visita"),n.createElement(ne.Z,{align:"left"},"Fecha visita"),n.createElement(ne.Z,{align:"left"},"Observaciones"),n.createElement(ne.Z,{align:"center"},"Acciones(g)"))),n.createElement(ae.Z,null,t.map((function(e){return n.createElement(oe.Z,{key:e.id,sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,classes:{hover:Z.hover}},n.createElement(ne.Z,{component:"th",scope:"row",style:S},e.titular),n.createElement(ne.Z,{align:"left"},e.contrato),n.createElement(ne.Z,{align:"left"},e.cp),n.createElement(ne.Z,{align:"left"},e.municipio),n.createElement(ne.Z,{align:"left"},e.localidad),n.createElement(ne.Z,{align:"left"},e.tipo_via),n.createElement(ne.Z,{align:"left"},e.nombre_via),n.createElement(ne.Z,{align:"left"},e.num_portal),n.createElement(ne.Z,{align:"left"},e.bloque),n.createElement(ne.Z,{align:"left"},e.escalera),n.createElement(ne.Z,{align:"left"},e.piso),n.createElement(ne.Z,{align:"left"},e.puerta),n.createElement(ne.Z,{align:"left"},e.observaciones_direccion),n.createElement(ne.Z,{align:"left"},e.telefono1),n.createElement(ne.Z,{align:"left"},e.telefono2),n.createElement(ne.Z,{align:"left"},e.telefono3),n.createElement(ne.Z,{align:"left"},e.telefono4),n.createElement(ne.Z,{align:"left"},e.complemento1),n.createElement(ne.Z,{align:"left"},e.complemento2),n.createElement(ne.Z,{align:"left"},e.uso_residuos),n.createElement(ne.Z,{align:"left"},e.campana_anterior),n.createElement(ne.Z,{align:"left"},e.campana_actual),n.createElement(ne.Z,{align:"left"},e.primera_visita),n.createElement(ne.Z,{align:"left"},e.segunda_visita),e.fecha_visita?n.createElement(ne.Z,{align:"left"},e.fecha_visita.date):n.createElement(ne.Z,{align:"left"}),n.createElement(ne.Z,{align:"left"},e.observaciones),n.createElement(ne.Z,{align:"center"},n.createElement(Me,{result:e,changeArrayEditar:a})))}))))),n.createElement(p.Z,{sx:{display:"flex",justifyContent:"flex-start"}},n.createElement(Le.Z,{component:"div",count:r,page:i,onPageChange:function(e,t){c(t),t>i?(l(m,g+m),b(g+m)):t<i&&(l(m,g-m),b(g-m))},rowsPerPage:m,onRowsPerPageChange:function(e){f(parseInt(e.target.value)),c(0)},rowsPerPageOptions:-1}))))}function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach((function(t){Ge(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ge(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ye=(0,v.Z)({palette:{brown:{main:"#522F10",contrastText:"#fff"}}}),Ke=(0,T.Z)({inputDataList:{width:"90%",marginTop:"15px",paddingTop:"7px",paddingBottom:"7px",paddingLeft:"14px",paddingRight:"32px",borderRadius:"4px",border:"1px solid #bfbfbf","&:hover":{border:"1px solid #522F10"}},submitButton:{color:"red","&:active":{border:"10px solid red"}}});function Qe(e){e.user;var t=e.listItemPressed,a=Ke(),r=He((0,n.useState)(""),2),l=(r[0],r[1],He((0,n.useState)(!1),2)),o=(l[0],l[1],He((0,n.useState)(""),2)),i=o[0],c=o[1],m=He((0,n.useState)(""),2),f=m[0],d=m[1],g=He((0,n.useState)(""),2),b=g[0],v=g[1],E=He((0,n.useState)(""),2),Z=E[0],S=E[1],C=He((0,n.useState)([]),2),w=C[0],O=C[1],x=He((0,n.useState)(),2),P=x[0],N=x[1],A=He((0,n.useState)(""),2),_=A[0],z=A[1],j=He((0,n.useState)(""),2),J=j[0],q=j[1],I=He((0,n.useState)(""),2),k=I[0],T=I[1],R=He((0,n.useState)(""),2),M=R[0],L=R[1],B=He((0,n.useState)(""),2),W=B[0],V=B[1],D=He((0,n.useState)(""),2),U=D[0],G=D[1],H=He((0,n.useState)([]),2),$=H[0],Y=H[1],K=He((0,n.useState)(!1),2),Q=K[0],X=K[1],te=He((0,n.useState)(""),2),ae=te[0],ne=te[1],re=He((0,n.useState)(""),2),le=re[0],oe=re[1],ie=He((0,n.useState)(0),2),me=ie[0],fe=ie[1],pe=(0,n.useCallback)((function(e){oe(e.nombre_via)}),[]),de=(0,n.useMemo)((function(){return w.map((function(e){return Ue({label:e.nombre_via,key:e.nombre_via,nombre_via:e.nombre_via},e)}))}),[w]),ge=function(e){e.preventDefault();var t={usoResiduos:JSON.stringify(i),tipoVia:JSON.stringify(f),localidades:JSON.stringify(b),campañaAnterior:JSON.stringify(Z),contrato:P,numPortal:JSON.stringify(_),bloque:J,escalera:JSON.stringify(k),piso:JSON.stringify(M),puerta:JSON.stringify(W),municipio:JSON.stringify(U),nombreViaSelected:JSON.stringify(le)};h().get("http://localhost:8000/api/search",{params:t}).then((function(e){if(e.data)if(0===e.data.length)X(!1),ne("No se han encontrado resultados");else{for(var a=0;a<e.data.length;a++)if(e.data[a].fecha_visita){var n=e.data[a].fecha_visita.date.split(" "),r=n[0],l=n[1].split(":"),o=r+" "+(parseInt(l[0])+1)+":"+l[1];e.data[a].fecha_visita.date=o}X(!0),Y(e.data),fe(e.data.length),be(t)}})).catch((function(e){console.log(e)}))},be=function(e){h().get("http://localhost:8000/api/countSearch",{params:e}).then((function(e){e.data&&fe(e.data.length)})).catch((function(e){console.log(e)}))};return(0,n.useEffect)((function(){h().get("http://localhost:8000/api/NombreVias",{}).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))}),[]),n.createElement(n.Fragment,null,n.createElement(p.Z,{sx:{flexGrow:1},className:"pb-3"},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:12},n.createElement(p.Z,{style:{marginLeft:"0px",marginRight:"0px",marginBottom:"3px"},sx:{justifyContent:"center",p:1,m:1,bgcolor:"background.paper"}},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:12},n.createElement("h4",{style:{textAlign:"center"}},t))),n.createElement(y.Z,{theme:Ye},n.createElement("div",{className:"container text-center"},n.createElement(p.Z,{component:"form",onSubmit:ge,noValidate:!0,sx:{mt:1}},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Uso de resíduos",onChange:function(e){return c(e.target.value)}},ce.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)})))),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Tipo de Vía",onChange:function(e){return d(e.target.value)}},ue.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)})))),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Localidades",onChange:function(e){return v(e.target.value)}},Fe.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)})))),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",select:!0,fullWidth:!0,label:"Campaña anterior",onChange:function(e){return S(e.target.value)}},se.map((function(e){return n.createElement(F.Z,{key:e.value,value:e.value},e.label)}))))),n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:3},n.createElement(ze.Z,{placeholder:"Nombre de las vías",items:de,onSelect:pe,requiredInputLength:1,inputClassName:a.inputDataList})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"contrato",label:"Contrato",name:"Contrato",type:"number",autoComplete:"Contrato",autoFocus:!0,onChange:function(e){return N(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"Nº PORTAL",label:"Nº Portal",name:"Nº Portal",type:"text",autoComplete:"Nº Portal",autoFocus:!0,onChange:function(e){return z(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"Bloque",label:"Bloque",name:"Bloque",type:"number",autoComplete:"Bloque",autoFocus:!0,onChange:function(e){return q(e.target.value)}}))),n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"escalera",label:"Escalera",name:"Escalera",type:"text",autoComplete:"Escalera",autoFocus:!0,onChange:function(e){return T(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"piso",label:"Piso",name:"Piso",type:"text",autoComplete:"Piso",autoFocus:!0,onChange:function(e){return L(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"Puerta",label:"Puerta",name:"Puerta",type:"text",autoComplete:"Puerta",autoFocus:!0,onChange:function(e){return V(e.target.value)}})),n.createElement(ee.ZP,{item:!0,md:3},n.createElement(s.Z,{size:"small",color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"Municipio",label:"Municipio",name:"Municipio",type:"text",autoComplete:"Municipio",autoFocus:!0,onChange:function(e){return G(e.target.value)}}))),n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:12},n.createElement(u.Z,{type:"submit",color:"brown",variant:"contained",sx:{mt:4,mb:3}},"Buscar"))))))))),Q?n.createElement(n.Fragment,null,n.createElement(Ve,{searchResult:$,changeArrayEditar:function(e){console.log(e.campana_anterior);var t=$.map((function(t){if(t.id===e.id){if(null!==e.fecha_visita){var a=new Date(1e3*e.fecha_visita),n=a.getFullYear(),r=a.getMonth(),l=a.getDate()+"-"+r+"-"+n+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();e.fecha_visita=l}return Ue(Ue({},t),{},{id:e.id,titular:e.titular,contrato:e.contrato,cp:e.cp,municipio:e.municipio,localidad:e.localidad,tipo_via:e.tipo_via,nombre_via:e.nombre_via,num_portal:e.num_portal,bloque:e.bloque,escalera:e.escalera,piso:e.piso,puerta:e.puerta,observaciones_direccion:e.observaciones_direccion,telefono1:e.telefono1,telefono2:e.telefono2,telefono3:e.telefono3,telefono4:e.telefono4,complemento1:e.complemento1,complemento2:e.complemento2,uso_residuos:e.uso_residuos,campaña_anterior:e.campana_anterior,campaña_actual:e.campana_actual,primera_visita:e.primera_visita,segunda_visita:e.segunda_visita,fecha_visita:e.fecha_visita,observaciones:e.observaciones})}return t}));Y(t),ge(event)},countResults:me,nextResults:function(e,t){var a={usoResiduos:JSON.stringify(i),tipoVia:JSON.stringify(f),localidades:JSON.stringify(b),campañaAnterior:JSON.stringify(Z),contrato:P,numPortal:JSON.stringify(_),bloque:J,escalera:JSON.stringify(k),piso:JSON.stringify(M),puerta:JSON.stringify(W),municipio:JSON.stringify(U),nombreViaSelected:JSON.stringify(le),rowsPerPage:e,secondParamNextResults:t};h().get("http://localhost:8000/api/nextSearch",{params:a}).then((function(e){e.data&&Y(e.data)})).catch((function(e){console.log(e)}))},prevResults:function(e,t){var a={usoResiduos:JSON.stringify(i),tipoVia:JSON.stringify(f),localidades:JSON.stringify(b),campañaAnterior:JSON.stringify(Z),contrato:P,numPortal:JSON.stringify(_),bloque:J,escalera:JSON.stringify(k),piso:JSON.stringify(M),puerta:JSON.stringify(W),municipio:JSON.stringify(U),nombreViaSelected:JSON.stringify(le),rowsPerPage:e,secondParamPrevResults:t};h().get("http://localhost:8000/api/prevSearch",{params:a}).then((function(e){e.data&&Y(e.data)})).catch((function(e){console.log(e)}))}})):n.createElement("h1",null,ae)))}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){if(e){if("string"==typeof e)return tt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var at=(0,T.Z)({navbarColor:{background:"#522F10"},backGrey:{background:"#F4F6F8"},spacingBetweenButtons:{color:"red"}}),nt=240;function rt(e){var t=e.user,a=e.setUser,r=at();(0,n.useEffect)((function(){var e=sessionStorage.getItem("user");if(e){var t=JSON.parse(e);a(t),z()}}),[]);var l=[{text:"Viviendas",icon:n.createElement(K.Z,null)},{text:"Buscador",icon:n.createElement(_e.Z,null)},{text:"Cerrar sesión",icon:n.createElement(Y.Z,null)}],o=Xe((0,n.useState)(!1),2),i=(o[0],o[1]),s=function(){return i(!0)},m=Xe((0,n.useState)([]),2),f=m[0],d=m[1],b=Xe((0,n.useState)("Listado de las últimas viviendas"),2),v=b[0],y=b[1],E=Xe((0,n.useState)(!1),2),Z=E[0],S=E[1],C=Xe((0,n.useState)(!0),2),w=C[0],O=C[1],x=Xe((0,n.useState)(!1),2),A=x[0],_=x[1],z=function(){h().get("http://localhost:8000/api/UsersList",{}).then((function(e){if(e.data){var t=e.data;d(t)}})).catch((function(e){console.log(e)}))};return n.createElement(p.Z,{sx:{display:"flex"},className:r.backGrey},n.createElement(c.ZP,null),n.createElement(P.Z,{position:"fixed",sx:{width:"calc(100% - ".concat(nt,"px)"),ml:"".concat(nt,"px")}},n.createElement(N.Z,{className:r.navbarColor},n.createElement(g.Z,{variant:"h6",noWrap:!0,component:"div"},n.createElement(W,null)))),n.createElement(V.ZP,{sx:{width:nt,flexShrink:0,"& .MuiDrawer-paper":{width:nt,boxSizing:"border-box"}},variant:"permanent",anchor:"left"},n.createElement(N.Z,null,n.createElement("span",null,n.createElement("img",{src:X,alt:"logo"}))),n.createElement(U.Z,null),n.createElement(U.Z,null),n.createElement(D.Z,null,l.map((function(e,t){return n.createElement(G.ZP,{button:!0,key:t,onClick:function(){var t;"Usuarios"===(t=e.text)?(S(!0),O(!1),_(!1),y("Listado de usuarios")):"Viviendas"===t?(O(!0),S(!1),_(!1),y("Listado de las últimas viviendas")):"Buscador"===t?(O(!1),S(!1),_(!0),y(t)):"Cerrar sesión"===t&&(sessionStorage.removeItem("user"),window.location.reload())}},n.createElement(H.Z,null,e.icon),n.createElement($.Z,{primary:e.text}))})))),n.createElement(p.Z,{component:"main",sx:{flexGrow:1,p:3},className:r.backGrey},n.createElement(N.Z,null),Z?n.createElement(n.Fragment,null,n.createElement(p.Z,{sx:{flexGrow:1,justifyContent:"flex-end"},className:"pb-3"},n.createElement(ee.ZP,{container:!0,spacing:2},n.createElement(ee.ZP,{item:!0,md:4},n.createElement("h4",null,v)),n.createElement(ee.ZP,{item:!0,md:4}),n.createElement(ee.ZP,{item:!0,md:4},"ROLE_ADMIN"===t.roles[0]?n.createElement(n.Fragment,null,n.createElement(Ze.CSVLink,{data:f,filename:"Tabla-users.csv"},n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold",justifyContent:"flex-end"},className:"ml-3"},"exportar")),n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold"},className:"ml-2",onClick:s},"Añadir usuario")):n.createElement(u.Z,{variant:"contained",size:"medium",style:{background:"#522F10",fontWeight:"bold"},className:"ml-5",onClick:s},"Añadir usuario"))))):"",w?n.createElement(Ae,{user:t,listItemPressed:v}):"",A?n.createElement(Qe,{user:t,listItemPressed:v}):"",n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null)))}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}r.render(n.createElement(l.VK,null,n.createElement("div",{className:"App"},n.createElement(o.AW,{exact:!0,path:"/",component:function(){var e=lt((0,n.useState)(),2),t=(e[0],e[1]),a=lt((0,n.useState)({id:333,email:"omar@gmail.com",password:"12345",roles:["ROLE_PRUEBA"],token:"1212341526TGWRGF2",isLogged:!1}),2),r=a[0],l=a[1];return(0,n.useEffect)((function(){var e=sessionStorage.getItem("user");if(e){t(!0);var a=JSON.parse(e);l(a)}else e||(t(!1),window.location.href="http://localhost:8000/login")}),[]),n.createElement(n.Fragment,null,n.createElement(rt,{user:r,setUser:l}))}}),n.createElement(o.AW,{exact:!0,path:"/login",component:function(){var e=S((0,n.useState)(""),2),t=e[0],a=e[1],r=S((0,n.useState)(""),2),l=r[0],o=r[1],v=S((0,n.useState)({id:333,email:"omar@gmail.com",password:"12345",roles:["ROLE_PRUEBA"],token:"1212341526TGWRGF2",isLogged:!1}),2),E=(v[0],v[1]);(0,n.useEffect)((function(){var e=sessionStorage.getItem("user");if(e){var t=JSON.parse(e);E(t),window.location.href="http://localhost:8000/"}}),[]);var C=function(e,t){var a=JSON.stringify(e.email),n=JSON.stringify(e.password);h().get("http://localhost:8000/api/checkifUserExists",{params:{email:a,password:n}}).then((function(e){if("null"===e.data.error){var t=JSON.parse(e.data.roles),a={id:e.data.id,email:e.data.email,password:e.data.password,roles:t,token:e.data.token,isLogged:!0};E(a),sessionStorage.setItem("user",JSON.stringify(a)),window.location.href="http://localhost:8000/"}})).catch((function(e){console.log(e)}))};return n.createElement(y.Z,{theme:w},n.createElement(b.Z,{component:"main",maxWidth:"xs"},n.createElement(c.ZP,null),n.createElement(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},n.createElement("img",{src:Z,alt:"logo"}),n.createElement(i.Z,{sx:{m:1,bgcolor:"#522F10"}},n.createElement(d.Z,null)),n.createElement(g.Z,{component:"h1",variant:"h5"},"Iniciar sesión"),n.createElement(p.Z,{component:"form",onSubmit:function(e){e.preventDefault();new FormData(e.currentTarget);C({email:t,password:l},"http://localhost:8000/api/checkUser")},noValidate:!0,sx:{mt:1}},n.createElement(s.Z,{color:"brown",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Correo electrónico",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return a(e.target.value)}}),n.createElement(s.Z,{color:"brown",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contraseña",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return o(e.target.value)}}),n.createElement(m.Z,{control:n.createElement(f.Z,{value:"remember",color:"brown"}),label:"Recuérdame"}),n.createElement(u.Z,{color:"brown",type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Inicia sesión")))))}}))),document.getElementById("root"))},45737:(e,t,a)=>{"use strict";e.exports=a.p+"images/LogoMarrones_transparente_redimensionado.ce19e5fb.png"},94333:(e,t,a)=>{"use strict";e.exports=a.p+"images/Logo_Consorcio_Residuos_Navarra.8126fd19.png"}},e=>{e.O(0,[149],(()=>{return t=41173,e(e.s=t);var t}));e.O()}]);